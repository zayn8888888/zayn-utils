let normalHunterInterval=setInterval(function(){Config['getAll']()['then'](a=>{let b=new URL(location['href'])['host'];let c=null;a['normalSources']['forEach'](d=>{if(d['host']==b&&d['image']['length']&&d['input']['length']&&getElementByXpath(d['image'])&&getElementByXpath(d['input'])){c=d;}});if(!c)return;if(window['isCaptchaWidgetRegistered']('normal',0x0))return;getNormalCaptchaWidgetInfo(c,function(d){registerCaptchaWidget(d);});})['catch'](a=>{clearInterval(normalHunterInterval);});},0x7d0);let getElementByXpath=function(a){return document['evaluate'](a,document,null,XPathResult['FIRST_ORDERED_NODE_TYPE'],null)['singleNodeValue'];};let getNormalCaptchaWidgetInfo=function(a,b){let c=getElementByXpath(a['image']);let d=getElementByXpath(a['input']);let e=d['closest']('form');if(c['getAttribute']('image-reader')=='in-progress')return;c['setAttribute']('image-reader','in-progress');ImageReader['getBase64'](c,function(f){if(!c['id'])c['id']='normal-captcha-'+Date['now']();if(!d['id'])d['id']='normal-captcha-answer-'+Date['now']();if(e&&!e['id'])e['id']='normal-captcha-container-'+Date['now']();b({'captchaType':'normal','widgetId':0x0,'imageId':c['id'],'inputId':d['id'],'containerId':e?e['id']:undefined,'base64':f});});};const ImageReader={'getBase64':function(a,b){if(a['src']['indexOf']('data:image/')==-0x1){try{this['getBase64ViaCanvas'](a,b);}catch(c){this['getBase64FromTaintedImage'](a,b);}}else{this['getBase64FromSrc'](a,b);}},'getBase64FromSrc':function(a,b){let c=decodeURI(a['src'])['replace'](/\s+/g,'');b(this['removeDataPrefix'](c));},'getBase64ViaCanvas':function(a,b){let c=document['createElement']('canvas');c['width']=a['naturalWidth'];c['height']=a['naturalHeight'];let d=c['getContext']('2d');d['drawImage'](a,0x0,0x0,a['naturalWidth'],a['naturalHeight']);let e=c['toDataURL']('image/png');b(this['removeDataPrefix'](e));},'getBase64FromTaintedImage':function(a,b){chrome['runtime']['sendMessage']({'command':'loadTaintedImageInBackgroundFrame','img_src':a['src']},function(d){if(d===undefined){let e=document['createElement']('iframe');e['src']=a['src'];e['width']='1px';e['height']='1px';e['name']=a['src'];document['body']['appendChild'](e);}});let c=setInterval(function(){chrome['storage']['local']['get']('taintedImageBase64',function(d){if(d['taintedImageBase64']){b(d['taintedImageBase64']);clearInterval(c);chrome['storage']['local']['remove']('taintedImageBase64');}});},0xc8);},'removeDataPrefix':function(a){return a['replace'](/^data:image\/(png|jpg|jpeg|pjpeg|gif|bmp|pict|tiff);base64,/i,'');}};$(document)['ready'](function(){if(window['top']!=window['self']&&document['body']&&document['body']['children']['length']==0x1&&document['getElementsByTagName']('img')['length']==0x1){let a=document['getElementsByTagName']('img')[0x0];if(a['src']!=window['location']['href'])return;let b=function(){ImageReader['getBase64'](this,c=>{chrome['storage']['local']['set']({'taintedImageBase64':c});});};if(a['complete']){b['call'](a);}else{a['onload']=b;}}});