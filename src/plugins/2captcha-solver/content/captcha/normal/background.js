function imageContextMenuAttachSourceHandler(a,b){chrome['storage']['local']['get']('imageManualShown',function(c){chrome['tabs']['sendMessage'](b['id'],{'command':'getContextMenuEl','showManual':c['imageManualShown']?![]:!![],'element':a['editable']?'input':'image'},{'frameId':a['frameId']},d=>{saveElementPath(new URL(a['pageUrl'])['host'],a['editable']?'input':'image',d['xpath']);});});}chrome['contextMenus']['removeAll'](function(){chrome['contextMenus']['create']({'id':'markAsCaptchaSource','title':'Mark\x20As\x20Captcha\x20Source','contexts':['image']});chrome['contextMenus']['create']({'id':'putCaptchaAnswerHere','title':'Put\x20Captcha\x20Answer\x20Here','contexts':['editable']});});chrome['contextMenus']['onClicked']['addListener'](imageContextMenuAttachSourceHandler);function saveElementPath(a,b,c){Config['get']('normalSources')['then'](d=>{let e=null;d['forEach'](function(f){if(f['host']==a)e=f;});if(!e){e={'host':a,'image':'','input':''};d['push'](e);}e[b]=c;Config['set']({'normalSources':d});});}chrome['runtime']['onMessage']['addListener']((a,b,c)=>{if(a['command']==='loadTaintedImageInBackgroundFrame'){if(typeof document!=='undefined'){let d=document['createElement']('iframe');d['src']=a['img_src'];d['width']='1px';d['height']='1px';d['name']=a['img_src'];document['body']['appendChild'](d);c({});}}else{c(undefined);}});