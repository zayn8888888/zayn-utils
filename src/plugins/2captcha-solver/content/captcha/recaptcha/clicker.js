((()=>{const a=chrome['runtime']['connect']({'name':'content'});const b=0xa;const c='clicker';let d=!![];let e=0x0;let f=-0x1;let g='';let h='';let i=0x0;let j=null;let k=null;let l=[];function m(){a['onMessage']['addListener'](async function(X){if(X['command']!=='recaptcha'){return;}if(X['error']){J();h='';e++;return;}await U(X['response']);});setInterval(async()=>{const X=await Config['getAll']();if(!(X['isPluginEnabled']&&X['enabledForRecaptchaV2']&&X['recaptchaV2Type']==='click')){return;}if(n()&&d){p();}if(o()){if(!await s()){return;}const Y=await t();if(!Y)return;await Q(Y);}},0x3e8);}function n(){return document['querySelector']('#recaptcha-anchor');}function o(){return document['querySelector']('#rc-imageselect')!==null;}function p(){if(q()){e=0x0;return;}r();d=![];}function q(){const X=n();let Y;if(X!=null){Y=X['getAttribute']('aria-checked')==='true';}if(Y){e=0x0;if(!d){a['postMessage']({'command':'solved'});d=!![];}}return![];}function r(){const X=n();if(X!=null){X['click']();}}function s(){return new Promise(X=>{const Y=document['querySelectorAll']('.rc-imageselect-tile');const Z=document['querySelectorAll']('.rc-imageselect-dynamic-selected');if(Y['length']>0x0&&Z['length']===0x0){X(!![]);}else{X(![]);}});}function t(){return new Promise(X=>{if(e>=b){return X(![]);}g=u();if(!g){return X(![]);}if(v()){x()['catch'](console['error']);return X(![]);}if(w()){x()['catch'](console['error']);return X(![]);}const Y=Array['from'](document['querySelectorAll']('.rc-imageselect-tile\x20img'));const Z=Y['length'];let a0=null;let a1=![];if(Z!==0x9&&Z!==0x10){return X(![]);}f=Z===0x9?0x3:0x4;const a2=Array(Z)['fill'](null);for(let a4=0x0;a4<Z;a4++){let a5=Y[a4];if(a5['naturalWidth']>=0x12c){a0=a5['getAttribute']('src');}else if(a5['naturalWidth']===0x64){a2[a4]=a5['getAttribute']('src');a1=!![];}}const a3=JSON['stringify']([a0,a2]);if(h===a3){return X(![]);}h=a3;i=0x0;X({'question':g,'rows':f,'cols':f,'url':a0,'urls':a2});});}function u(){const X=document['querySelector']('.rc-imageselect-instructions')['innerText']['split']('\x0a');if(X[X['length']-0x1]['indexOf']('Click\x20')!==-0x1||X[X['length']-0x1]['indexOf']('click\x20skip')!==-0x1){X['pop']();}return X['join']('\x20');}function v(){return document['querySelector']('.rc-imageselect-error-select-more')['style']['display']!=='none';}function w(){return document['querySelector']('.rc-imageselect-error-dynamic-more')['style']['display']!=='none';}async function x(){let X=Array['from'](document['querySelectorAll']('.rc-imageselect-tile'));const Y=y(0x0,X['length']);X[Y]['click']();await A([X[Y]],j);j=X[Y];await W();}function y(X,Y){let Z=Y-X+0x1;return Math['floor'](Math['random']()*Z+X);}function z(X,Y,Z=null){const a0=[];if(Z){a0['push'](K(Z));}else{a0['push']({'x':y(0x1a4,0x212),'y':y(0xc8,0x12c)});}const a1=K(X);for(let a2=0x0;a2<Y['length'];a2++){const a3=Y[a2];a0['push']({'x':a1['x']+a3['x']*0x1,'y':a1['y']+a3['y']*0x1});}return a0;}async function A(X,Y=null){let Z=B(X,![],Y);await C(Z);}function B(X,Y,Z){const a0=[];if(Z){a0['push'](K(Z));}else{a0['push']({'x':Y?y(0x1a4,0x212):y(0xa,0x64),'y':Y?y(0xc8,0x12c):y(0x5,0xc8)});}for(let a1=0x0;a1<X['length'];a1++){let a2=K(X[a1]);a0['push'](a2);}return a0;}async function C(X){for(let Y=0x0;Y<X['length']-0x1;Y++){await D(X[Y],X[Y+0x1]);}}async function D(X,Y){G(X,Y);await N(y(0x32,0x64));L(Y);await N(y(0x32,0x64));M(Y);}async function E(X,Y){G(X,Y);await N(y(0x32,0x64));F(Y);}function F(X){const Y=document['createEvent']('MouseEvent');const Z=document['elementFromPoint'](X['x'],X['y']);Y['initMouseEvent']('click',!![],!![],window,null,X['x'],X['y'],0x0,0x0,![],![],![],![],0x0,null);Z['dispatchEvent'](Y);}function G(X,Y){let Z=H(X,Y,y(0xa,0x14));for(let a0=0x0;a0<Z['length'];a0++){document['body']['dispatchEvent'](new MouseEvent('mousemove',{'bubbles':!![],'clientX':Z[a0]['x'],'clientY':Z[a0]['y']}));}}function H(X,Y,Z=0x1e){let a0=[];let a1=0x0;let a2=0x1;for(let a8=0x0;a8<Z;++a8){a0['push'](a1);if(a8<Z/0xa){a2+=y(0x3c,0x64);}else if(a8>=Z*0x9/0xa){a2-=y(0x3c,0x64);a2=Math['max'](0x14,a2);}a1+=a2;}let a3=[];let a4=[X['x'],X['y']];let a5=[(X['x']+Y['x'])/0x2+y(0x1e,0x64),(X['y']+Y['y'])/0x2+y(0x1e,0x64)];let a6=[(X['x']+Y['x'])/0x2+y(0x1e,0x64),(X['y']+Y['y'])/0x2+y(0x1e,0x64)];let a7=[Y['x'],Y['y']];for(let a9 of a0){let [aa,ab]=I(a9/a1,a4,a5,a6,a7);a3['push']({'x':aa,'y':ab});}return a3;}function I(X,Y,Z,a0,a1){let [a2,a3]=Y;let [a4,a5]=a1;let [a6,a7]=Z;let [a8,a9]=a0;const aa=a2*Math['pow'](0x1-X,0x3)+0x3*a6*X*Math['pow'](0x1-X,0x2)+0x3*a8*X*X*(0x1-X)+a4*Math['pow'](X,0x3);const ab=a3*Math['pow'](0x1-X,0x3)+0x3*a7*X*Math['pow'](0x1-X,0x2)+0x3*a9*Math['pow'](X,0x2)*(0x1-X)+a5*Math['pow'](X,0x3);return[aa,ab];}function J(){let X=document['querySelector']('#recaptcha-reload-button');if(X!=null){X['click']();}}function K(X){let Y;if(X!=null){Y=X['getBoundingClientRect']();}if(Y){return{'x':Y['left']+window['scrollX']-document['documentElement']['clientLeft']+y(-0x5,0x5),'y':Y['top']+window['scrollY']-document['documentElement']['clientTop']+y(-0x5,0x5)};}else{return{'x':0x0,'y':0x0};}}function L(X){document['body']['dispatchEvent'](new MouseEvent('mousedown',{'bubbles':!![],'clientX':X['x'],'clientY':X['y']}));}function M(X){document['body']['dispatchEvent'](new MouseEvent('mouseup',{'bubbles':!![],'clientX':X['x'],'clientY':X['y']}));}function N(X){return new Promise(Y=>setTimeout(Y,X));}function O(X){return new Promise((Y,Z)=>{let a0=new Image();a0['src']=X;a0['setAttribute']('crossOrigin','anonymous');a0['onload']=()=>{const a1=document['createElement']('canvas');a1['width']=a0['width'];a1['height']=a0['height'];a1['getContext']('2d')['drawImage'](a0,0x0,0x0,a0['width'],a0['height']);const a2=a1['toDataURL']();Y(a2);};a0['onerror']=a1=>{Z(a1);};});}function P(){const X=document['querySelector']('.rc-imageselect-incorrect-response');return X==null||X['style']['display']!=='';}async function Q(X){if(!P()){e++;}let {question:Y,url:Z,urls:a0}=X;const a1=a0['findIndex'](a2=>a2!=null)!==-0x1;if(!a1){const a2=await O(Z);await S({'question':Y,'image':a2});}else{let a3=await O(Z);for(let a4=0x0;a4<a0['length'];a4++){if(a0[a4]){l['push'](a0[a4]);const a5=await O(a0[a4]);a3=await R(a3,a5,a4);}}await S({'question':Y,'image':a3});}}function R(X,Y,Z){return new Promise((a0,a1)=>{const a2=new Image();a2['src']=X;a2['onload']=function(){const a3=document['createElement']('canvas');a3['width']=a2['width'];a3['height']=a2['height'];const a4=a3['getContext']('2d');a4['drawImage'](a2,0x0,0x0,f*0x64,f*0x64);const a5=new Image();a5['src']=Y;a5['onload']=function(){const a6=Z%f;const a7=Math['floor'](Z/f);a4['drawImage'](a5,a6*0x64,a7*0x64,0x64,0x64);const a8=a3['toDataURL']('image/png');a0(a8);};a5['onerror']=a6=>{a1(a6);};};a2['onerror']=a3=>{a1(a3);};});}async function S(X){const Y={'method':'base64','recaptcha':0x1,'body':X['image']['slice'](X['image']['indexOf'](';base64,')+0x8),'textinstructions':X['question'],'recaptcharows':f,'recaptchacols':f,'img_type':'recaptcha','previousID':k};console['log']('send\x20params',Y);console['time'](c);a['postMessage']({'command':'recaptcha','params':Y});}function T(X){const Y=/(\d+)/gm;let Z;const a0=[];while((Z=Y['exec'](X))!==null){if(Z['index']===Y['lastIndex']){Y['lastIndex']++;}if(Z[0x1]){a0['push'](Z[0x1]);}}return a0;}async function U(X){console['log']('response',X);console['timeEnd'](c);let Y=[];if(X&&X['code']){Y=T(X['code']);}if(!Y['length']){await W();}else{k=X['captchaId'];let Z=Array['from'](document['querySelectorAll']('.rc-imageselect-tile'));for(let a0=0x0;a0<Y['length'];a0++){Z[Y[a0]-0x1]['click']();await N(0x64);}await W();}}async function V(X){let Y=X&&X['code'];if(!Y)return;console['log']('coords',Y);let Z=document['querySelector']('.rc-imageselect-target');const a0=z(Z,Y);console['log']('absoluteCoords',a0);await C(a0);await N(0x5dc);await W();}async function W(){let X=!![];if(f===0x3&&i===0x0){X=await s();}if(X){let Y=document['querySelector']('#recaptcha-verify-button');if(Y!=null){Y['click']();j=null;k=null;d=!![];}l=[];await A([document['querySelector']('#recaptcha-verify-button')],j);g=u();}}m();})());