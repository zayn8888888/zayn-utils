chrome['runtime']['onInstalled']['addListener'](function(a){if(a['reason']=='install'){if(chrome['runtime']['openOptionsPage']){chrome['runtime']['openOptionsPage']();}else{self['open'](chrome['runtime']['getURL']('options/options.html'));}}});var API;Config['getAll']()['then'](a=>{if(a['apiKey']){initApiClient(a['apiKey']);if(a['valute']==='RUB'){API['service']='rucaptcha.com';}}});function initApiClient(a){API=new TwoCaptcha({'apiKey':a,'service':'2captcha.com','defaultTimeout':0x12c,'pollingInterval':0x5,'softId':0xb12});}var devtoolsConnections={};chrome['runtime']['onConnect']['addListener'](function(a){a['onMessage']['addListener'](function(b){switch(b['command']){case'init':devtoolsConnections[b['tabId']]=a;a['onDisconnect']['addListener'](function(){delete devtoolsConnections[b['tabId']];});break;case'2captcha-devtools':for(tabId in devtoolsConnections){devtoolsConnections[tabId]['postMessage'](b);}break;case'recaptcha':API['grid'](b['params'])['then'](d=>{a['postMessage']({'command':'recaptcha','request':b,'response':d});})['catch'](d=>{a['postMessage']({'command':'recaptcha','request':b,'error':d['message']});});break;case'solved':console['warn']('Captcha\x20already\x20solved');break;default:let c=a['name']+'_'+b['action'];if(self[c]===undefined)return;self[c](b)['then'](d=>{a['postMessage']({'action':b['action'],'request':b,'response':d});})['catch'](d=>{a['postMessage']({'action':b['action'],'request':b,'error':d['message']});});}});});chrome['runtime']['onMessage']['addListener'](function(a,b){if(b&&b['tab']){var c=b['tab']['id'];if(c in devtoolsConnections){devtoolsConnections[c]['postMessage'](a);}else{console['log']('Tab\x20not\x20found\x20in\x20connection\x20list.');}}else{console['log']('sender.tab\x20not\x20defined.');}return!![];});chrome['tabs']['onUpdated']['addListener'](function(a,b,c){if(a in devtoolsConnections&&b['status']==='complete'){devtoolsConnections[a]['postMessage']({'name':'reloaded'});}});async function popup_login(a){initApiClient(a['apiKey']);let b=await API['userInfo']();if(b['key_type']!=='customer'){throw new Error('You\x20entered\x20worker\x20key!\x20Switch\x20your\x20account\x20into\x20\x22customer\x22\x20mode\x20to\x20get\x20right\x20API-KEY');}b['valute']=b['valute']['toUpperCase']();if(b['valute']==='RUB'){API['service']='rucaptcha.com';}Config['set']({'apiKey':a['apiKey'],'email':b['email'],'valute':b['valute']});return b;}async function popup_logout(a){Config['set']({'apiKey':null});return{};}async function popup_getAccountInfo(a){let b=await Config['getAll']();if(!b['apiKey'])throw new Error('No\x20apiKey');let c=await API['userInfo']();c['valute']=c['valute']['toUpperCase']();return c;}async function content_solve(a){return await API[a['captchaType']](a['params']);}