class TwoCaptcha{constructor(a){if(typeof a=='string'){a={'apiKey':a};}let b={'apiKey':'','service':'2captcha.com','softId':0x0,'defaultTimeout':0x78,'recaptchaTimeout':0x258,'pollingInterval':0xa};for(let c in b){this[c]=a[c]===undefined?b[c]:a[c];}}['normal'](a){return this['solve'](a,{'timeout':this['defaultTimeout']});}['recaptcha'](a){return this['solve'](a,{'timeout':this['recaptchaTimeout']});}['recaptcha_audio'](a){a['method']='audio';return this['solve'](a,{'timeout':this['recaptchaTimeout']});}['geetest'](a){return this['solve'](a);}['geetest_v4'](a){return this['solve'](a);}['keycaptcha'](a){return this['solve'](a);}['arkoselabs'](a){return this['solve'](a);}['lemin'](a){return this['solve'](a);}['yandex'](a){return this['solve'](a);}['capy'](a){return this['solve'](a);}['amazon_waf'](a){return this['solve'](a);}['turnstile'](a){return this['solve'](a);}['mt_captcha'](a){return this['solve'](a);}['coordinates'](a){return this['solve'](a);}['grid'](a){return this['solve'](a,{'pollingInterval':0x1});}async['solve'](a,b){let c={};c['captchaId']=await this['send'](a);c['code']=await this['waitForResult'](c['captchaId'],b);return c;}async['send'](a){this['sendAttachDefaultParams'](a);let b=this['extractFiles'](a);Config['mapParams'](a,a['method']);Config['mapParams'](b,a['method']);return await this['in'](a,b);}async['waitForResult'](a,b){if(!b){b={'timeout':this['defaultTimeout'],'pollingInterval':this['pollingInterval']};}let c=this['getTime']();let d=b['timeout']===undefined?this['defaultTimeout']:b['timeout'];let f=b['pollingInterval']===undefined?this['pollingInterval']:b['pollingInterval'];while(!![]){if(this['getTime']()-c<d){await new Promise(g=>setTimeout(g,f*0x3e8));}else{break;}try{let g=await this['getResult'](a);if(g)return g;}catch(h){throw h;}}throw new Error('Timeout\x20'+d+'\x20seconds\x20reached');}['getTime'](){return parseInt(Date['now']()/0x3e8);}async['getResult'](a){try{return await this['res']({'action':'get','id':a});}catch(b){if(b['message']==='CAPCHA_NOT_READY'){return null;}throw b;}}async['balance'](){let a=await this['res']({'action':'getbalance'});return parseFloat(a);}async['userInfo'](){return await this['res']({'action':'userinfo'});}async['report'](a,b){let c=b?'reportgood':'reportbad';return await this['res']({'action':c,'id':a});}['sendAttachDefaultParams'](a){if(this['softId']>0x0){a['softId']=this['softId'];}}['extractFiles'](a){let b={};let c=['file','hintImg'];for(let d=0x1;d<0xa;d++){c['push']('file_'+d);}c['forEach'](function(e){if(a[e]!==undefined){b[e]=a[e];delete a[e];}});return b;}async['in'](a,b){return await this['request']('POST','/in.php',a,b);}async['res'](a){return await this['request']('GET','/res.php',a);}async['request'](a,b,c,d){c['key']=this['apiKey'];c['header_acao']=0x1;c['json']=0x1;let f='https://'+this['service']+b;let g={'method':a};if(a==='GET'){let j=[];for(let k in c){j['push'](k+'='+encodeURIComponent(c[k]));}f+='?'+j['join']('&');}else{let l=new FormData();for(let m in c){if(typeof c[m]=='object'){for(let n in c[m]){l['append'](m+'['+n+']',c[m][n]);}}else{l['append'](m,c[m]);}}g['body']=l;}let h;try{h=await fetch(f,g);}catch(o){throw new Error('API_CONNECTION_ERROR');}if(!h['ok']){throw new Error('API_HTTP_CODE_'+h['status']);}let i;try{i=await h['json']();}catch(p){throw new Error('API_INCORRECT_RESPONSE');}if(i['status']===0x0){throw new Error(i['request']);}return i['request']||i;}}